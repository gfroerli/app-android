apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'project-report'
apply plugin: 'witness'

android {
    compileSdkVersion 27
    buildToolsVersion '27.0.3'

    defaultConfig {
        applicationId "ch.coredump.watertemp"
        minSdkVersion 17
        targetSdkVersion 27
        versionCode 6
        versionName "0.4.0"
        vectorDrawables.useSupportLibrary = true
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    flavorDimensions "region"

    productFlavors {
        zh {
            dimension "region"
            applicationIdSuffix ".zh"
        }
    }
}

ext {
    supportLibVersion = '27.1.1'
}

dependencies {
    // Support libraries
    compile "com.android.support:appcompat-v7:${supportLibVersion}"
    compile "com.android.support:design:${supportLibVersion}"

    // Mapbox SDK
    compile ('com.mapbox.mapboxsdk:mapbox-android-sdk:5.2.0-beta.3@aar'){
        transitive=true
    }

    // REST client
    compile 'com.squareup.retrofit2:retrofit:2.3.0'
    compile 'com.squareup.retrofit2:converter-gson:2.3.0'
    compile 'com.squareup.okhttp3:logging-interceptor:3.8.0'

    // Java 8 date/time API backport
    compile 'com.jakewharton.threetenabp:threetenabp:1.0.5'

    // Relative time calculation
    compile 'org.ocpsoft.prettytime:prettytime:4.0.1.Final'

    // Baseline alignment of typography
    compile 'com.actinarium.aligned:aligned:0.1'

    // Charts
    compile 'com.github.PhilJay:MPAndroidChart:v3.0.3'

    // Testing
    testCompile 'junit:junit:4.12'
    compile "org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version"
}

dependencyVerification {
    verify = [
        // Support libraries
        'com.android.support:animated-vector-drawable:59670473f6e98fda792f7bef25dd7292b0a3106031c7a5e30eb020bf26f077bd',
        'com.android.support:appcompat-v7:0c7808fbbc5838d831e32e3c0a6f84e1f2c981deb8f11e010650f2b57923a335',
        'com.android.support:design:7225973f7ee03765008a9c2f17a40b154c6885169fef022276e811c926a2202c',
        'com.android.support:recyclerview-v7:d735e4727878e99ef3980c10d15dc3468462fd509d4fb60cb8bd20b0f735085c',
        'com.android.support:support-annotations:3365960206c3d2b09e845f555e7f88f8effc8d2f00b369e66c4be384029299cf',
        'com.android.support:support-compat:880ce01ff5be42b233ff8ec0c61cefb7dc3dc9500fea9e24423214813ac27ea2',
        'com.android.support:support-core-ui:a3ae20e6d5dffba69ac97b99846d2738003af8563843d5f3c9dc4c35b4804241',
        'com.android.support:support-core-utils:61036832c54e8701aae954fc3bf96d1d80bf8d9dd531bff77d72def456ba087a',
        'com.android.support:support-fragment:ec72d6ac36a1a0e6523bbddba33d73ffad070b9b3dd246cc44d8727a41ddb5e6',
        'com.android.support:support-media-compat:55e9837dda88b74a8c812c63a78c63fd83c6c039a8c22d318492663a493585eb',
        'com.android.support:support-v4:4f41dfc3e89f2738e45c86264a85c0934d055ee8ebe2020e23c97f303b80a48b',
        'com.android.support:support-vector-drawable:1c0f421114cf4627cf208776d6eb4f76340c78b7e96fe6e12b3e6eb950caf1b9',
        'com.android.support:transition:c0765b2f3c78696567ec5b3f519d22da1e3df11ac994625adf4bb4dc571caacc',

        // Mapbox
        'com.mapbox.mapboxsdk:mapbox-android-sdk:d18f874d135402266cffcd6697f16b78e122bb2b373fb04db534c3bc1bf1c374',
        'com.mapbox.mapboxsdk:mapbox-android-telemetry:bb912ad3d55af402b0cac5e7874c07296bea860675843998a3902400f20435d8',
        'com.mapbox.mapboxsdk:mapbox-java-geojson:fe643e894295dcf62bd952ad6e58aa5d28c2db40091544922125d7336e9d5f35',
        'com.mapbox.mapboxsdk:mapbox-java-core:99cc79e1f681658cdf907541e034884b62dbad042b45d619a8b5360ca956b573',
        'com.mapzen.android:lost:6e2a7bfb1627587cf17e7788fc16eb2a293f1fb03c1cd9715da4cf5c9d33fefe',

        // API stuff
        'com.squareup.retrofit2:retrofit:c0295f38b3c1a48bb71a8ed2ea69ddeb2e49a830b11862385a403355c6a94643',
        'com.squareup.retrofit2:converter-gson:848f8036837d8650c05d2c100b87a008c53987dcfcf1217467b83f4e8504a708',
        'com.squareup.okhttp3:okhttp:7265adbd6f028aade307f58569d814835cd02bc9beffb70c25f72c9de50d61c4',
        'com.squareup.okhttp3:logging-interceptor:88d04693ab3109b549149b38abf96530bf6ee97f38c0dc72aa73560ef30d953d',
        'com.squareup.okio:okio:734269c3ebc5090e3b23566db558f421f0b4027277c79ad5d176b8ec168bb850',
        'com.google.code.gson:gson:c6221763bd79c4f1c3dc7f750b5f29a0bb38b367b81314c4f71896e340c40825',

        // Other
        'org.ocpsoft.prettytime:prettytime:ef7098d973ae78b57d1a22dc37d3b8a771bf030301300e24055d676b6cdc5e75',
        'com.jakewharton.timber:timber:d553d3d3e883ce7d061f1b21b95d6ee0840f3bfbf6d3bd51c5671f0b0f0b0091',
        'com.github.PhilJay:MPAndroidChart:c66ebf3370fe3da48ed6d1867d52f31adc6af4b285c7d2eb10acfdc6f90a1f73',
    ]
}
